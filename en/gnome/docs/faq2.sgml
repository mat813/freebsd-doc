<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" [
<!ENTITY base CDATA "../..">
<!ENTITY date "$FreeBSD: www/en/gnome/docs/faq2.sgml,v 1.19 2002/12/02 03:11:58 marcus Exp $">
<!ENTITY title "FreeBSD GNOME Project: GNOME 2.0 FAQ">
<!ENTITY % gnomeincludes SYSTEM "../includes.sgml"> %gnomeincludes;
<!ENTITY % includes SYSTEM "../../includes.sgml"> %includes;
]>
<html>
  &header;

  <table border="0">
    <tr>
      <td>
        <h2>Contents</h2>
          <ol>
            <li> <a href="#q1">How do I get GNOME 2.0 for FreeBSD?</a>
            <li> <a href="#q2">GNOME 2.0 is failing to build from ports.  What 
	      do I do?</a>
            <li> <a href="#q3">I installed GNOME 2.0, but I am missing 
	      application foo.  What gives?</a>
            <li> <a href="#q4">What is the best way to upgrade from GNOME
	      1.4 to GNOME 2.0?</a>
	    <li> <a href="#q5">How do I keep my GNOME 2.0 components 
	      and applications up-to-date?</a>
	    <li> <a href="#q6">Can I install GNOME 1.4 applications under
	      GNOME 2.0 and vice versa?</a>
	    <li> <a href="#q7">Where can I get more themes for GNOME 2.0?</a>
	    <li> <a href="#q8">What window managers work well with GNOME 2.0?
	      </a>
	    <li> <a href="#q9">Does GNOME 2.0 support anti-aliased fonts?</a>
	    <li> <a href="#q10">How do I edit my GNOME 2 menus?</a>
	    <li> <a href="#q11">How do I use GTK+ 2 resource settings for 
	      GTK+ 2 applications when not in a GNOME environment?</a>
          </ol>
        <h2>Full Text </h2> 
        <table border="0" cellspacing="0" cellpadding="2">

<!-- Q1 -->
          <tr>
	    <td width="10">
	      <b><a name="q1"> 1.</a></b>
	    </td>
	    <td align="left" valign="top" colspan="3">
	      <b>How do I get GNOME 2.0 for FreeBSD?</b>
	    </td>
          </tr>
          <tr>
<!-- A1 -->
	  <td width="10"> <br> </td>
	  <td align="left" valign="top" colspan="3"> 
	    <p>There are two ways to install GNOME 2.0 on FreeBSD.  One way is to use 
	      <a href="http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/packages-using.html">
	        packages</a>, and the other way is to use
	      <a href="http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/ports-using.html">
	        ports</a>.</p>

	    <p>To install GNOME 2.0 from packages, use the command:</p>

	    <tt># pkg_add -r gnome2</tt>

	    <p>This will download the latest GNOME 2.0 packages from the 
	      FreeBSD FTP site, and proceed to install them on your system.
	    </p>

	    <p>To build and install GNOME 2.0 from ports, you should first 
	      <a href="http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/cvsup.html">
	        cvsup</a> the latest ports tree.  Then:</p>

	    <pre>
# cd /usr/ports/x11/gnome2
# make clean
# make install clean
	    </pre>

	    <p>Building from ports is the preferred method for
	      installing GNOME 2.</p>

	  </td>
        </tr>
        <tr><td><br></td></tr>

<!-- Q2 -->
        <tr>
	  <td width="10">
	    <b><a name="q2"> 2.</a></b></td>
	  <td align="left" valign="top" colspan="3">
	    <b>GNOME 2.0 is failing to build from ports.  What do I do?</b>
	  </td>
        </tr>
<!-- A2 -->
        <tr>
	  <td width="10"> <br> </td>
	  <td align="left" valign="top" colspan="3"> 
	    <p>The majority of GNOME 2.0 compilation problems can be solved 
	      by making sure all the necessary GNOME 2.0 components are 
	      <a href="#q5">up-to-date</a>. You may see compiler errors relating to pthreads 
	      (POSIX threads), such as:</p>

	    <pre>
undefined reference to 'strerror_r'
            </pre>

	    <p>To fix thread related errors, make sure you have the following
	      compiled into your kernel:</p>

	    <pre>
options     _KPOSIX_PRIORITY_SCHEDULING
            </pre>

	    <p>And make sure if you are tracking -stable or -current, that you
	      do <b>not</b> have <tt>NOLIBC_R</tt> set in 
	      <tt>/etc/make.conf</tt>. If you do, remove it, then rebuild world.
	      If you still have trouble, please send email to 
	      <a href="mailto:&email;@FreeBSD.org">
	      &email;@FreeBSD.org</a> with the output of the failed compilation.
	      It is also helpful to include the config.log from the port's
	      work directory.</p>

	    <p>Ports such as <tt>devel/pth</tt> and <tt>devel/ngpt</tt> can
	      also cause pthread-related problems when compiling GNOME 2.0.
	      If you do not need these ports installed, it is recommended that
	      you remove them.
	    </p>

	  </td>
        </tr>
        <tr><td><br></td></tr>

<!-- Q3 -->
        <tr>
	  <td width="10">
	    <b><a name="q3"> 3.</a></b></td>
	  <td align="left" valign="top" colspan="3">
	    <b>I installed GNOME 2.0, but I am missing application foo.
	      What gives?</b>
	  </td>
        </tr>
<!-- A3 -->
        <tr>
	  <td width="10"> <br> </td>
	  <td align="left" valign="top" colspan="3"> 
	    <p>Only the core components, and a few extras, are included in the
	      <tt>gnome2</tt> package.  Since GNOME 2.0 is so new, there
	      have not been a great deal of applications ported over to it.
	      As more applications become available, they will be ported
	      over.  In the meantime, you can, however, run 
	      <a href="#q6">GNOME 1.4 applications</a> under GNOME 2.0.</p>

	    <p>Many applications that have already been ported are included 
	      in the <tt>gnome2-fifth-toe</tt> meta-port.  
	      <tt>gnome2-fifth-toe</tt> includes GNOME 2.0 versions
	      of some GNOME 1.4 applications.  Note, many of these
	      applications are still in the early development stages,
	      and may not be very stable.</p>

	    <p>To install <tt>gnome2-fifth-toe</tt> from packages:</p>

            <pre>
# pkg_add -r gnome2-fifth-toe
            </pre>

	    <p>To install <tt>gnome2-fifth-toe</tt> from ports:</p>

	    <pre>
# cd /usr/ports/x11/gnome2-fifth-toe
# make clean
# make install clean
	    </pre>

	  </td>
        </tr>
        <tr><td><br></td></tr>

<!-- Q4 -->
        <tr>
	  <td width="10">
	    <b><a name="q4"> 4.</a></b></td>
	  <td align="left" valign="top" colspan="3">
	    <b>What is the best way to upgrade from GNOME 1.4 to GNOME 2.0?
	    </b>
	  </td>
        </tr>
<!-- A4 -->
        <tr>
	  <td width="10"> <br> </td>
	  <td align="left" valign="top" colspan="3"> 
	    <p>Right now, the GNOME project is still very much in flux.
	      Work still must be done to the GNOME ports infrastructure in
	      order to get things working cleanly.  However, if you have
	      GNOME 1.4, and you want to upgrade to GNOME 2.0, first
	      familiarize yourself with the <a href="http://www.gnome.org/start/2.0/installation.html#upgrading">official</a> upgrade instructions from
	      the GNOME site.  Next, make sure your GNOME 1.4 ports are
	      up-to-date, then remove the following GNOME 1.4 packages from
	      the system:</p>
	    
	    <pre>
gnomecore
sawfish
gnomeapplets 
gnomemedia
gtop
libgtop
nautilus
glade
gedit
xalf
bugbuddy
gnomegames
gnomeutils
gdm
eog
	   </pre>

	   <p>After those packages are removed, you can build GNOME 2.0 as per 
	     the instructions listed above.</p>

	  </td>
        </tr>
        <tr><td><br></td></tr>

<!-- Q5 -->
        <tr>
	  <td width="10">
	    <b><a name="q5"> 5.</a></b></td>
	  <td align="left" valign="top" colspan="3">
	    <b>How do I keep my GNOME 2.0 components and applications 
	      up-to-date?</b>
	  </td>
        </tr>
<!-- A5 -->
        <tr>
	  <td width="10"> <br> </td>
	  <td align="left" valign="top" colspan="3"> 
	    <p>I find that <tt>/usr/ports/sysutils/portupgrade</tt> works really
	      well.  For example:</p>

	    <tt># portupgrade -r pkgconfig</tt>

	    <p>This will upgrade pkgconfig and every other port that depends 
	      on it (that needs updating).</p>

	    <p>However, sometimes so much changes that it becomes 
	      necessary to do a little housekeeping first. In that case, this 
	      usually works:</p>

	    <pre>
# pkg_delete -rf pkgconfig\*
# cd /usr/ports/x11/gnome2
# make clean
# make install clean
	    </pre>

	    <p>These steps will remove <b>all</b> the GNOME 1 and 2 components 
	      and applications from your machine, but only reinstalls the
	      GNOME 2 desktop.  You should be aware, that if it comes to
	      this, you will need to reinstall your applications after 
	      reinstalling the desktop.  Fortunately, this extreme measure
	      is only rarely needed.
	    </p>
	  </td>
        </tr>

        <tr><td><br></td></tr>

<!-- Q6 -->
        <tr>
	  <td width="10">
	    <b><a name="q6"> 6.</a></b></td>
	  <td align="left" valign="top" colspan="3">
	    <b>Can I install GNOME 1.4 applications under GNOME 2.0 and vice 
	      versa?</b>
	  </td>
        </tr>
<!-- A6 -->
        <tr>
	  <td width="10"> <br> </td>
	  <td align="left" valign="top" colspan="3"> 
	    <p>Sure!  Right now, the FreeBSD GNOME team is in the process of 
	      migrating all GNOME 1.4 ports to a new build infrastructure.
	      This new infrastructure, called <b>GNOMENG</b>, will allow
	      GNOME 2 users to install GNOME 1.4 ports without overwriting
	      their GNOME 2 desktop.</p>
	    
	    <p>Before building a GNOME 1.4 port under GNOME 2, take a 
	      look at the port's Makefile, and check that it contains:</p>

	    <pre>
USE_GNOMENG=	yes
	    </pre>

	    <p>If it does, you can safely build this port under GNOME 2.
	      If the Makefile contains the following, do not build it
	      as it will overwrite your GNOME 2 desktop:</p>

	    <pre>
USE_GNOME=	yes
	    </pre>

	    <p>In that case, send email to 
	      <a href="mailto:&email;@FreeBSD.org">&email;@FreeBSD.org</a>
	      mentioning the name of the port, and we will convert it to the
	      new layout.  Alternatively, you are free to convert the port
	      yourself, and submit a PR.</p>

	    <p><b>NOTE!</b>  You <b>must</b> have a current 
	      <tt>/usr/ports/Mk</tt> directory in order to make use
	      of the new GNOMENG framework.  If you do not have a current
	      Mk directory, you will still overwrite your GNOME 2 desktop
	      even when USE_GNOMENG is defined.  To update your Mk directory,
	      make sure your ports supfile is set to retrieve the
	      <b>ports-base</b> tag.  This is done automatically if your
	      supfile contains the <b>ports-all</b> tag.
	    </p>

	    <p>To run GNOME 2.0 applications under GNOME 1.4, you will need
	      to make sure your GNOME 1.4 components are up-to-date, then
	      install the <tt>gnome2-devel</tt> port.  To install this port
	      do the following:</p>

	    <pre>
# cd /usr/ports/devel/gnome2-devel
# make clean
# make install
	    </pre>

	    <p>After installing the <tt>gnome2-devel</tt> port, you will
	      be able to install <b>non-desktop</b> GNOME 2.0 applications
	      (e.g. <tt>math/gcalctool</tt>).</p>
	  </td>
        </tr>
        <tr><td><br></td></tr>
<!-- Q7 -->
        <tr>
	  <td width="10">
	    <b><a name="q7"> 7.</a></b></td>
	  <td align="left" valign="top" colspan="3">
	    <b>Where can I get more themes for GNOME 2.0?</b>
	  </td>
        </tr>
<!-- A7 -->
        <tr>
	  <td width="10"> <br> </td>
	  <td align="left" valign="top" colspan="3"> 
	    <p>The website <a href="http://art.gnome.org"> 
	      art.gnome.org</a> has been setup as a general GNOME theme
	      repository.  They offer some gtk+-2.0, metacity, sawfish,
	      nautilus, and gdm themes, as well as some backgrounds.</p>

	    <p>A new theme site called <a href="http://www.themedepot.org">
	      The Theme Depot</a> has just been launched.  This site contains
	      themes for GNOME 2 as well as KDE and quite a few window
	      managers.
	    </p>

	    <p>A good site for some cool GNOME icons (some stock, some new)
	      is jimmac's <a href="http://jimmac.musichall.cz/ikony.php3"> 
	      Icons</a> site.</p>

	    <p>See the instructions on the website for installing the themes.
	      If you feel inclined to port a few of them, you will not be
	      turned away ;-).</p>
	  </td>
        </tr>
        <tr><td><br></td></tr>

<!-- Q8 -->
        <tr>
	  <td width="10">
	    <b><a name="q8"> 8.</a></b></td>
	  <td align="left" valign="top" colspan="3">
	    <b>What window managers work well with GNOME 2.0?</b>
	  </td>
        </tr>
<!-- A8 -->
        <tr>
	  <td width="10"> <br> </td>
	  <td align="left" valign="top" colspan="3"> 
	    <p>The <tt>gnome2</tt> meta-port installs the 
	      <a href="http://sawmill.sourceforge.net/">sawfish</a> and
	      metacity window managers by default.  Both 
	      work quite well in GNOME 2.0.  A lot of people prefer metacity 
	      since it is lighter weight.  However, sawfish will be used as 
	      the default Window manager.</p>

	    <p>To switch between sawfish and metacity in GNOME 2, you will need
	      to do the following:</p>

<pre>
killall sawfish; metacity &
</pre>
	    <p>To switch back, simply reverse sawfish and metacity.  In
	      an upcoming release of gnomecontrolcenter2, there will be
	      a more user-friendly way of doing this.</p>
	  </td>
        </tr>
        <tr><td><br></td></tr>
<!-- Q9 -->
        <tr>
	  <td width="10">
	    <b><a name="q9"> 9.</a></b></td>
	  <td align="left" valign="top" colspan="3">
	    <b>Does GNOME 2.0 support anti-aliased fonts?</b>
	  </td>
        </tr>
<!-- A9 -->
        <tr>
	  <td width="10"><br></td>
	  <td align="left" valign="top" colspan="3"> 
		<p>Yes!  Anti-aliasing requires XFree86 4.x with 
		  freetype2 support.  To add freetype2 support to X, make
		  sure you have the following modules loaded in your 
		  XF86Config file under the Modules section:</p>

		<pre>
Load	"freetype"
Load	"type1"
		</pre>
		
		<p>Then, simply set the environment variable 
		  <tt>GDK_USE_XFT</tt> to 1 before starting GNOME.  
		  If you use gdm, you can add it to your <tt>~/.gnomerc</tt> 
		  file (make sure this file is executable!).  If you use startx,
		  then add it to your <tt>~/.xinitrc</tt> file.</p>

		<p>If you have any questions, please send them to 
		  <a href="mailto:&email;@FreeBSD.org">&email;@FreeBSD.org</a>.
		</p>
	  </td>
        </tr>
        <tr><td><br></td></tr>
<!-- Q10 -->
        <tr>
	  <td width="10">
	    <b><a name="q10"> 10.</a></b></td>
	  <td align="left" valign="top" colspan="3">
	    <b>How do I edit my GNOME 2 menus?</b>
	  </td>
        </tr>
<!-- A10 -->
        <tr>
	  <td width="10"><br></td>
	  <td align="left" valign="top" colspan="3"> 
	    <p>You need to use Nautilus to edit your GNOME 2 menus.  If you
	      want to edit any menu other than Favorites, you must be
	      root.  This feature requires GNOME 2.0.2 or later.</p>

	    <p>To edit the menus, launch Nautilus, and enter the URL 
	      <b>applications:///</b>.  From there you should be able to edit
	      your entire application menu.</p>
	  </td>
        </tr>
        <tr><td><br></td></tr>
<!-- Q11 -->
        <tr>
	  <td width="10">
	    <b><a name="q11"> 11.</a></b></td>
	  <td align="left" valign="top" colspan="3">
	    <b>How do I use GTK+ 2 resource settings for GTK+ 2 applications
	      when not in a GNOME environment?</b>
	  </td>
        </tr>
<!-- A11 -->
        <tr>
	  <td width="10"><br></td>
	  <td align="left" valign="top" colspan="3"> 
	    <p> GNOME 2 applications get their GTK+ 2 resources from themes and
	      the corresponding theme engine.  If you would rather run your
	      GTK+ 2 applications in a non-GNOME environment then you will
	      need to create a file named <tt>~/.gtkrc-2.0</tt>.  For the 
	      most part, you can transfer your settings from your 
	      <tt>~/.gtkrc</tt> (used for GTK+ 1.2) file with a couple
	      of caveats.</p>

	      <ol>
	        <li> If you have any theme engine references, you will have
		  to make sure there is a corresponding GTK+ 2 theme engine.  
		  Otherwise, remove the engine entries.</li>
		<li> The default font specification should be outside of
		  any <tt>style</tt> blocks and should be specified with
		  the <tt>gtk-font-name</tt> keyword.  For example:

		  <pre>gtk-font-name = "Verdana 11"</pre>
		</li>
              </ol>
	  </td>
        </tr>
        <tr><td><br></td></tr>
        </table>
      </td>
    </tr>
  </table>
  &footer;
</body>
</html>
