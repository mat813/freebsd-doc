<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" [
<!ENTITY base CDATA "..">
<!ENTITY date "$FreeBSD: www/en/platforms/ppc.sgml,v 1.9 2004/04/04 21:49:40 phantom Exp $">
<!ENTITY title "FreeBSD/ppc Project">
<!ENTITY email 'freebsd-ppc'>
<!ENTITY % includes SYSTEM "../includes.sgml"> %includes;]>
 
<html>
  &header;

  <h3>General Information</h3>

  <ul>
    <li><a href="#intro">Introduction</a></li>
    <li><a href="#news">Latest News</a></li>
    <li><a href="#faq">Port FAQs</a></li>
    <li><a href="#hardware">Supported Hardware</a></li>
    <li><a href="#list">FreeBSD/ppc mailing list</a></li>
    <li><a href="#issues">Known Issues</a></li>
    <li><a href="#doc">Documentation, White Papers, Utilities</a></li>
    <li><a href="#links">Other links of interest</a></li>
  </ul>


  <h3><a name="intro">Introduction</a></h3>

  <p>The FreeBSD/ppc project pages contain information about the FreeBSD
    port to the PowerPC&reg; architecture.  As with the port itself, these
    pages are still a work in progress.</p>

  <p>The FreeBSD/ppc port is still a Tier-2 platform.  That means it is
    not being fully supported by our security officer, release engineers and
    toolchain maintainers.<p>

  <hr noshade>

  <h3><a name="news">Latest News</a></h3>

  <ul>
    <li><strong>1 July, 2005</strong>: This page has been
      significantly updated.</li>
  </ul>

  <hr noshade>

  <h3><a name="faq">Frequently Asked Questions</a></h3>

  <ol>
    <li><a href="#1">How can I install FreeBSD/ppc</a></li>
    <li><a href="#2">Where can I find packages for FreeBSD/ppc?</a></li>
    <li><a href="#3">Who should I contact?</a></li>
  </ol>

  <h4><a name="1">How can I install FreeBSD/ppc?</a></h4>

  <p>FreeBSD/ppc is in HEAD branch of the FreeBSD CVS repository.  However
    there is an ISO image available for download
    <a href="http://people.freebsd.org/~grehan/6.0-20050518-SNAP-powerpc-disc1.iso">here</a>.
    Please follow instructions given
    <a href="http://people.freebsd.org/~grehan/iso_install.txt">here</a>.</p>

  <h4><a name="2">Where can I find packages for FreeBSD/ppc?</a></h4>

  <p>Courtesy of Peter Grehan and Tilman Linneweh, you can find some packages
    <a href="http://people.freebsd.org/~grehan/ppc_pkgs/">here</a> and
    <a href="http://people.freebsd.org/~arved/packages_powerpc/">here</a>.

  <h4><a name="3">Who should I contact?</a></h4>

  <p><a href="mailto:grehan@FreeBSD.org">Peter Grehan</a> is the project
    lead.  Contact him if you can contribute code.  If you just want
    to know about the status of this project, check this page
    regularly or join the
    <a href="#list">FreeBSD/ppc mailing list</a>.</p>

  <hr noshade>

  <h3><a name="hardware">Supported Hardware</a></h3>

  <p>The FreeBSD/ppc port should run on any New-World machine.  People
    reported FreeBSD runs on following machines:</p>

  <table class="tasklist" border="3" cellpadding="5" cellspacing="0">
    <tr class="heading">
      <th>Manufacturer</th>
      <th>Model</th>
      <th>Submitter (optional links)</th>
      <th>Notes</th>
    </tr>
    <tr>
      <td>Apple</td>
      <td>iMac G3 350 MHz</td>
      <td><a href="mailto:diskiller@diskiller.net">Martin Minkus</a></td>
      <td>Rage 128VR</td>
    </tr>
    <tr>
      <td>Apple</td>
      <td>iMac G3 Revision B</td>
      <td><a href="mailto:grehan@FreeBSD.org">Peter Grehan</a></td>
      <td>Rage 3D Pro 215GP, accel disabled</td>
    </tr>
    <tr>
      <td>Apple</td>
      <td>eMac 700 MHz</td>
      <td><a href="mailto:grehan@FreeBSD.org">Peter Grehan</a></td>
      <td>Nvidia GeForce2 MX</td>
    </tr>
    <tr>
      <td>Apple</td>
      <td>Mac Mini G4 1.4 GHz</td>
      <td><a href="mailto:arved@FreeBSD.org">Tilman Linneweh</a>
	(<a href="http://people.freebsd.org/~arved/stuff/minimac">dmesg</a>)</td>
      <td>None</td>
    </tr>
    <tr>
      <td>Apple</td>
      <td>Powerbook G4 1.33 GHz</td>
      <td><a href="mailto:grehan@FreeBSD.org">Peter Grehan</a></td>
      <td>Nvidia GeForce G5200</td>
    </tr>
  </table>

  <hr noshade>

  <h3><a name="list">FreeBSD/ppc mailing list</a></h3>

  <p>To subscribe to this list, send mail to
    <a href="mailto:freebsd-ppc-subscribe@FreeBSD.org">freebsd-ppc-subscribe@FreeBSD.org</a>
    or visit
    <a href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ppc">mailman
    interface</a>.</p>

  <hr noshade>

  <h3><a name="issues">Known Issues</a></h3>

  <ul>
    <li>On-board BMAC+ ethernet does not work.  There is a work-in-progress
      bm(4) driver available on Peter Grehan's personal page
      <a href="http://people.freebsd.org/~grehan/">here</a> (see if_bm.c and
      if_bmreg.h).</li>
    <li>There is no graphical mouse cursor on console.</li>
    <li>Fdisk does not work.</li>
    <li>Only USB keyboards are supported.</li>
    <li>If you have Bluetooth, there is a 'fake' OHCI port and devices
      created that can be used to access a wireless keyboard or mouse.
      Problem is, it gets probed before the fixed keyboard/mouse and is
      first in line to syscons.  To get around this, the PCI slot associated
      with the problematic ohci2 can be disabled at the loader prompt:
      <pre>OK set hint.pcib.1.skipslot=26</pre></li>
    <li>For ATI Radeon-based machines:
      <ul>
	<li>A ofw syscons range check needs to be relaxed using the sysctl
	  hw.ofwfb.relax_mmap.</li>
	<li>A special radeon
	  <a href="http://people.freebsd.org/~grehan/radeon_driver.c">driver</a>
	  is needed. You must add the following your xorg.conf into the
	  Section "Device": <pre>Option "iBookHacks" "on"</pre></li>
      </ul>
    </li>
    <li>There is a known bug in the boot-loader, that prevents you from
      loading an alternate kernel, so testing your kernel is a bit risky.
      When booting the loader from the OpenFirmware prompt, give it a
      partition which is either non-existent, doesn't have a kernel to load,
      or isn't a UFS partition:
      <pre>0 > boot hd:loader hd:0</pre>
      At this point, you can set currdev and manually load a kernel:
      <pre>OK set currdev=hd:14
OK load /boot/kernel/kernel.save</pre>
    </li>
    <li>Some patches are needed to build your own world and kernel:
      <ul>
	<li>
	  RELENG_5 (GCC 3.4.2):
	  <a href="http://people.freebsd.org/~grehan/rs6000.c.diff">rs6000.c.diff</a>
	  and
	  <a href="http://people.freebsd.org/~grehan/sysv4.h.diff">sysv4.h.diff</a>
	</li>
	<li>
	  HEAD (GCC 3.4.4):
	  <a href="http://people.freebsd.org/~arved/stuff/ppc/patch-rs6000.c">rs6000.c.diff</a>
	  and
	  <a href="http://people.freebsd.org/~arved/stuff/ppc/patch-sysv4.h">sysv4.h.diff</a>
	</li>
      </ul>
    </li>
  </ul>

  <hr noshade>

  <h3><a name="doc">Documentation, White Papers, Utilities</a></h3>

  <ul>
    <li><a href="http://e-www.motorola.com/brdata/PDFDB/docs/MPCFPE32B.pdf">
      PowerPC chip documentation</a></li>

    <li><a href="http://www.firmworks.com/QuickRef.html">
      Open Firmware Quick Reference</a></li>

    <li><a href="http://developer.apple.com/technotes/tn/tn1061.html">
      "TN1061: Fundamentals of OpenFirmware, Part 1 - The User
      Interface"</a></li>

    <li><a href="http://developer.apple.com/technotes/tn/tn1062.html">
      "TN1062: Fundamentals of OpenFirmware, Part 2 - The Device
      Tree"</a></li>

    <li><a href="http://developer.apple.com/techpubs/hardware/hardware2.html">
      Apple hardware developer docs</a></li>
    
    <li><a href="http://sourceware.cygnus.com/psim/">psim</a> - A PowerPC
      simulator, available as a FreeBSD port at
      <a href="http://www.freshports.org/?package=psim-freebsd">emulators/psim-freebsd</a></li>
  </ul>

  <h3><a name="links">Other Links of Interest</a></h3>

  <ul>
    <li><a href="http://wikitest.freebsd.org/moin.cgi/powerpc">FreeBSD/ppc
      wiki page</a></li>
    <li><a href="http://lists.freebsd.org/pipermail/freebsd-ppc/2005-January/000814.html">
      Garance A. Drosehn's description about FreeBSD on the Mac
      Mini</a></li>
    <li><a href="http://www.NetBSD.org/Ports/macppc/">NetBSD/macppc</a></li>
    <li><a href="http://www.OpenBSD.org/macppc.html">OpenBSD/macppc</a></li>
  </ul>

  &footer;
</html>
