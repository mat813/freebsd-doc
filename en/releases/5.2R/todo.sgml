<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" [
<!ENTITY base CDATA "../..">
<!ENTITY email 'freebsd-qa'>
<!ENTITY date "$FreeBSD: www/en/releases/5.2R/todo.sgml,v 1.5 2003/04/26 03:25:23 rwatson Exp $">
<!ENTITY title "FreeBSD 5.2 Open Issues">
<!ENTITY % includes SYSTEM "../../includes.sgml"> %includes;
<!ENTITY % developers SYSTEM "../../developers.sgml"> %developers;
]>

<html>
&header;

<h1>Open Issues</h1>

<p>This is a list of open issues that need to be resolved for FreeBSD
  5.2.  If you have any updates for this list, please e-mail
  re@FreeBSD.org.</p>

<h3>Must Resolve Issues for 5.2-RELEASE</h3>

<table border=1 width="100%">
  <tr><th>Issue</th><th>Status</th><th>Responsible</th><th>Description</th>
      </tr>

  <tr>
    <td>Production-quality M:N threading</td>
    <td>In progress</td>
    <td>&a.julian;, &a.davidxu;, &a.deischen;</td>
    <td>KSE M:N threading support is reaching experimental yet usable
      status on i386 for 5.1-RELEASE.  M:N threading should be
      productionable and usable on all platforms by 5.2-RELEASE.</td>
  </tr>

  <tr>
    <td>FAST_IPSEC and KAME compatibility</td>
    <td>--</td>
    <td>--</td>
    <td>FAST_IPSEC currently cannot be used directly with the KAME IPv6
      implementation, requiring an additional level of IP tunnel
      indirection to protect IPv6 packets when using hardware crypto
      acceleration.  This issue must be resolved so that the two
      services may more easily be used together.  Among other things,
      this will require a careful review of the handling of mbuf
      header copying and m_tag support in the KAME IPv6 code.</td>
  </tr>

  <tr>
    <td>KAME Synchronization</td>
    <td>--</td>
    <td>--</td>
    <td>The FreeBSD KAME IPv6 code is now substantially dated with
      respect to the KAME vendor source.  The FreeBSD Project needs
      to take initiative in driving the merge of new bug fixes,
      features, et al.</td>
  </tr>

  <tr>
    <td>truss support for ptrace</td>
    <td>--</td>
    <td>--</td>
    <td>Almost all process debugging tools have been updated to use
      non-procfs kernel primitives, with the exception of truss(1).
      As procfs is considered deprecated due to its inherrent security
      risks, it is highly desirable to update truss to operate in
      a post-procfs world.  &a.des; had "work in progress" patches
      that will need to be completed and committed.</td>
  </tr>

  <tr>
    <td>Merge of Darwin msdosfs, other fixes</td>
    <td>--</td>
    <td>--</td>
    <td>Apple's Darwin operating system has fairly extensive improvements
      to msdosfs and other kernel services; these fixes must be reviewed
      and merged to the FreeBSD tree.</td>
  </tr>

  <tr>
    <td>Machine-independent console support</td>
    <td>In progress</td>
    <td>&a.jake;</td>
    <td>Simple machine-independent console framework, based roughly
      on wscons from NetBSD, which will provide better console support
      across architectures.  Also, device drivers for peripherals
      relevant to UltraSPARC.</td>
  </tr>

  <tr>
    <td>ACL_MASK override of umask support in UFS</td>
    <td>In progress</td>
    <td>&a.rwatson;</td>
    <td>Many systems supporting POSIX.1e ACLs permit a minor violation
      to that specification, in which the ACL_MASK entry overrides the
      umask, rather than being intersected with it.  The resulting
      semantics can be useful in group-oriented environments, and as
      such would be very helpful on FreeBSD.</td>
  </tr>

  <tr>
    <td>Fine-grained network stack locking without Giant</td>
    <td>In progress</td>
    <td>&a.hsu;, &a.tanimura;</td>
    <td>Significant parts of the network stack (especially IPv4 and
      IPv6) now have fine-grained locking of their data structures.
      However, it is not yet possible for the netisr threads to run
      without Giant, due to dependencies on sockets, routing, etc.
      A 5.2-RELEASE goal is to have the network stack running largely
      without Giant, which should substantially improve performance
      of the stack, as well as other system components by reducing
      contention on Giant.</td>
  </tr>

  <tr>
    <td>ATA driver structural improvements, MPsafety</td>
    <td>In progress</td>
    <td>&a.sos;</td>
    <td>Move ATA comments into requests, so that they can be linked
      together, centralize request queue management permiting direct
      DMA of ATA commands.  These architectural changes will also
      facilitate complete MP-safety of the ATA driver suite, and
      dramatically improve support for Promise RAID controllers.</td>
  </tr>

</table>

<h3>Desired Features for 5.2-RELEASE</h3>

<table border=1 width="100%">
  <tr><th>Issue</th><th>Status</th><th>Responsible</th><th>Description</th>
      </tr>

  <tr>
    <td>MAC support for NFS Server</td>
    <td>--</td>
    <td>&a.rwatson;</td>
    <td>Currently, MAC protections are enforced only on locally originated
      file system operations (VOPs), and not on RPCs generated via the
      NFS server.  Improvements in NFS server credential handling are
      required to correct this problem, as well as the introduction of
      new entry points to properly label NFS credentials and perform
      enforcement properly.</td>
  </tr>

</table>

<h3>Documentation items that must be resolved for 5.2</h3>

<table border=1 width="100%">
  <tr><th>Issue</th><th>Status</th><th>Responsible</th><th>Description</th>
      </tr>

</table>

<h3>Testing focusses for 5.2-RELEASE</h3>

<table border=1 width="100%">
  <tr><th>Issue</th><th>Status</th><th>Responsible</th><th>Description</th>
      </tr>

</table>

    &footer;

  </body>
</html>
